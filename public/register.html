 <!DOCTYPE html>
    <head>
        <meta charset="utf-8">
        <title>Login </title>
        <link rel="stylesheet" href="./assets/css/style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="./assets/img/">
    </head>
    <body>
        <!-- <div id="Tiltle">
        <h2 id="form">Register</h2>
        </div>
        <div id = "register">
            <input type="text" id="full_name" placeholder="Name">
            <input type="text" id="phone_number" placeholder="Phone number">
            <input type="email" id="email" placeholder="Email">
            <input type="password" id="password" placeholder="Create Password">
            <input type="password" id="confirm_password" placeholder="Confirm Password">
            <button onclick="register()">Register</button> -->


        <div class="modal">
            <div class="modal__overlay"></div>

            <div class="modal__body">
                <div class="auth-form">
                    <div class="auth-form__container">
                        <div class="auth-form__header">
                            <h3 class="auth-form__heading">Đăng ký</h3>
                            <span class="auth-form__switch-btn">Đăng nhập</span>
                        </div>

                        <div class="auth-form__form">
                            <div class="auth-form__group">
                                <input type="text" class="auth-form__input" placeholder="Nhập email của bạn">
                            </div>
                            <div class="auth-form__group">
                                <input type="password" class="auth-form__input" placeholder="Nhập mật khẩu của bạn">
                            </div>
                            <div class="auth-form__group">
                                <input type="password" class="auth-form__input" placeholder="Nhập lại mật khẩu của bạn">
                            </div>
                        </div>

                        <div class="auth-form__aside">
                            <p class="auth-form__policy-text">
                                Bằng việc đăng kí , bạn đã đồng ý với BookNmeet về <a href="" class="auth-form__text-link">Điểu khoản dịch vụ </a>&
                                <a href="" class="auth-form__text-link"> Chính sách bảo mật</a>
                            </p>    
                        </div>

                        <div class="auth-form__controls">
                            <button class="btn auth-form__controls-back">TRỞ LẠI</button>
                            <button class="btn btn__primary">ĐĂNG KÝ</button>
                        </div>
                    </div>

                    <div class="auth-form__socials">
                        <a href="" class="btn btn--with-icon btn--with-icon--facebook">
                            <i class="fa-brands fa-square-facebook"></i>
                            Kết nối với facebook
                        </a>
                        <a href="" class="btn btn--with-icon btn--with-icon--google">
                            <i class="fa-brands fa-google"></i>
                            Kết nối với google
                        </a>
                    </div>
                </div> 
            </div>
        </div>
       
    </body>
  
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
    <script src="index1.js"></script>
    <script>
        
    async function register() {
    full_name = document.getElementById('full_name').value
    email = document.getElementById('email').value
    password = document.getElementById('password').value
    confirm_password = document.getElementById('confirm_password').value
    phone_number = document.getElementById('phone_number').value
 
    if(password != confirm_password){
        alert('difference password')
        return
    }
    if (valid_name(full_name) == false){
    alert('invalid name')
    return
    }
    if (valid_email(email) == false || valid_password(password) == false){
    alert('Email or Password is not valid')
    return
    }
    auth.createUserWithEmailAndPassword(email, password)
    
        var user = auth.currentUser
        var database_ref = database.ref()
        var userID = phone_number

    var user_data = { full_name, phone_number, email };

    await database
     .ref()
     .child('Register/' + userID)
     .set(user_data);
    alert('user created !')
   
}
         document.addEventListener('DOMContentLoaded', function() {
            checkLoginStatus();
   });


    function checkLoginStatus() {
    
        firebase.auth().onAuthStateChanged(async function(user) {
            if (user) {
                console.log("User is signed in.");
                //await register()
                window.location.href = "index1.html";
            } else {
                console.log("No user is signed in.");
            }
        });
     
}
       

     </script>
</html>
